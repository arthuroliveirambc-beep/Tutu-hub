if Name == "Player" then
    Tab:Label({Text = "Controles do Jogador"})

    local savedPosition = nil
    local saveFile = "ReGuiPosition.json"

    -- Tenta carregar posi√ß√£o salva ao iniciar
    if isfile and isfile(saveFile) then
        local ok, data = pcall(function()
            return game:GetService("HttpService"):JSONDecode(readfile(saveFile))
        end)
        if ok and data and data.x then
            savedPosition = Vector3.new(data.x, data.y, data.z)
            print("[ReGui] Posi√ß√£o carregada:", savedPosition)
        else
            warn("[ReGui] posi√ß√£o salva encontrada.")
        end
    end

    Tab:Button({
        Text = "üíæ Salvar Posi√ß√£o",
        Callback = function()
            if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                warn("Personagem encontrado!")
                return
            end
            savedPosition = LocalPlayer.Character.HumanoidRootPart.Position

            -- Salvar no arquivo
            local data = {x = savedPosition.X, y = savedPosition.Y, z = savedPosition.Z}
            pcall(function()
                writefile(saveFile, game:GetService("HttpService"):JSONEncode(data))
            end)

            print("[ReGui] Posi√ß√£o salva em:", savedPosition)
        end
    })

    Tab:Button({
        Text = "üöÄ Teleporta para Posi√ß√£o",
        Callback = function()
            if not savedPosition then
                warn("Nenhuma posi√ß√£o salva ainda!")
                return
            end
            if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                warn("Personagem n√£o encontrado!")
                return
            end

            local root = LocalPlayer.Character.HumanoidRootPart
            root.CFrame = CFrame.new(savedPosition + Vector3.new(0, 3, 0))
            print("[ReGui] Teleportado para posi√ß√£o salva:", savedPosition)
        end
    })

    Tab:Label({Text = "Atalhos: K = Noclip, LeftShift = Sprint, Ctrl+P = Salvar preset"})
end
